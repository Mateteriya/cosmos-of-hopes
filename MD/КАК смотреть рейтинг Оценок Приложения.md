# üìä –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ü–µ–Ω–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)

## üéØ –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ü–µ–Ω–∫–∏?

–ï—Å—Ç—å **–î–í–ê –ø—Ä–æ—Å—Ç—ã—Ö —Å–ø–æ—Å–æ–±–∞** –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ü–µ–Ω–æ–∫:

---

## –°–ø–æ—Å–æ–± 1Ô∏è‚É£: –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –æ—Ü–µ–Ω–∫–∏ —Å–ø–∏—Å–∫–æ–º

### –®–∞–≥–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. **–í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é —Å–ª–µ–≤–∞** –Ω–∞–π–¥–∏—Ç–µ **"Table Editor"** (–∏–ª–∏ "–†–µ–¥–∞–∫—Ç–æ—Ä —Ç–∞–±–ª–∏—Ü")
3. **–ù–∞–π–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É** `app_ratings` –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ—ë
4. **–ì–æ—Ç–æ–≤–æ!** –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫:
   - –í –∫–æ–ª–æ–Ω–∫–µ `rating` ‚Äî –æ—Ü–µ–Ω–∫–∞ (1, 2, 3, 4 –∏–ª–∏ 5)
   - –í –∫–æ–ª–æ–Ω–∫–µ `created_at` ‚Äî –∫–æ–≥–¥–∞ –±—ã–ª–∞ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –æ—Ü–µ–Ω–∫–∞
   - –í –∫–æ–ª–æ–Ω–∫–µ `user_id` ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
rating | user_id      | created_at
-------|--------------|--------------------
5      | user_123...  | 2025-01-15 10:30
4      | user_456...  | 2025-01-15 11:20
5      | user_789...  | 2025-01-15 12:15
...
```

---

## –°–ø–æ—Å–æ–± 2Ô∏è‚É£: –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Å—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Ç.–¥.)

### –®–∞–≥–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. **–í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é —Å–ª–µ–≤–∞** –Ω–∞–π–¥–∏—Ç–µ **"SQL Editor"** (–∏–ª–∏ "SQL –†–µ–¥–∞–∫—Ç–æ—Ä")
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ** –æ–¥–∏–Ω –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∏–∂–µ –≤ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
4. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Run"** (–∏–ª–∏ "–í—ã–ø–æ–ª–Ω–∏—Ç—å")
5. **–ì–æ—Ç–æ–≤–æ!** –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

### üìà –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

#### –ó–∞–ø—Ä–æ—Å 1: –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Å–∞–º—ã–π –ø–æ–ª–µ–∑–Ω—ã–π!)
```sql
SELECT 
  COUNT(*) as total_ratings,
  ROUND(AVG(rating), 2) as average_rating,
  COUNT(CASE WHEN rating = 5 THEN 1 END) as five_stars,
  COUNT(CASE WHEN rating = 4 THEN 1 END) as four_stars,
  COUNT(CASE WHEN rating = 3 THEN 1 END) as three_stars,
  COUNT(CASE WHEN rating = 2 THEN 1 END) as two_stars,
  COUNT(CASE WHEN rating = 1 THEN 1 END) as one_star
FROM app_ratings;
```

**–ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:**
- `total_ratings` ‚Äî –≤—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫
- `average_rating` ‚Äî —Å—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4.5)
- `five_stars` ‚Äî —Å–∫–æ–ª—å–∫–æ –ø—è—Ç–µ—Ä–æ–∫
- `four_stars` ‚Äî —Å–∫–æ–ª—å–∫–æ —á–µ—Ç–≤–µ—Ä–æ–∫
- –∏ —Ç.–¥.

---

#### –ó–∞–ø—Ä–æ—Å 2: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
```sql
SELECT 
  rating,
  COUNT(*) as count,
  ROUND(COUNT(*) * 100.0 / (SELECT COUNT(*) FROM app_ratings), 2) as percentage
FROM app_ratings
GROUP BY rating
ORDER BY rating DESC;
```

**–ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:**
- –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∫–∞–∂–¥–∞—è –æ—Ü–µ–Ω–∫–∞ –±—ã–ª–∞ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞
- –í –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

---

#### –ó–∞–ø—Ä–æ—Å 3: –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ—Ü–µ–Ω–æ–∫
```sql
SELECT user_id, rating, created_at
FROM app_ratings
ORDER BY created_at DESC
LIMIT 10;
```

**–ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:**
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ—Ü–µ–Ω–æ–∫ —Å –¥–∞—Ç–∞–º–∏

---

#### –ó–∞–ø—Ä–æ—Å 4: –û—Ü–µ–Ω–∫–∏ –ø–æ –¥–Ω—è–º
```sql
SELECT 
  DATE(created_at) as date,
  COUNT(*) as count
FROM app_ratings
GROUP BY DATE(created_at)
ORDER BY date DESC;
```

**–ß—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:**
- –°–∫–æ–ª—å–∫–æ –æ—Ü–µ–Ω–æ–∫ –±—ã–ª–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

---

## üí° –°–æ–≤–µ—Ç

**–°–∞–º—ã–π —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–±** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ó–∞–ø—Ä–æ—Å 1** –≤ SQL Editor. –û–Ω –ø–æ–∫–∞–∂–µ—Ç –≤—Å—é –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º:
- –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫
- –ö–∞–∫–∞—è —Å—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞
- –°–∫–æ–ª—å–∫–æ –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–∏ (–æ—Ç 1 –¥–æ 5)

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–ü–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `app_ratings` —Å–æ–∑–¥–∞–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!

–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞ `supabase/migrations/create_app_ratings.sql` –≤ SQL Editor.

