# ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò –ö –ù–û–í–û–ú–£ –ì–û–î–£

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (31 –¥–µ–∫–∞–±—Ä—è 2025)

### 1. ‚úÖ –ù–æ–≤–æ–≥–æ–¥–Ω—è—è –∞–Ω–∏–º–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω `useNewYearAnimationController` –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ë–ª–∫–∏
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –≤ 00:00 1 —è–Ω–≤–∞—Ä—è

### 2. ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —ë–ª–∫–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** `canEnableGlow()` —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–≥–æ–¥, –º–µ—Å—è—Ü, –¥–∞—Ç—É)
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `year >= 2026 && month >= 0 && date >= 1` –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- ‚úÖ Edge Function `send-new-year-notifications` —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ 22:50 –∏ 23:57 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —à–∞—Ä–æ–≤ –∏ –∫–æ–º–Ω–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£—á–µ—Ç timezone –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è **–ü–†–û–í–ï–†–ò–¢–¨:** –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–∫—Ä–∏–ø—Ç `send-push-notifications-server.js` —á–µ—Ä–µ–∑ PM2 –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ê–Ω–∏–º–∞—Ü–∏—è:
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `NewYearAnimation` —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è —Å–ª–µ—Ç–∞–Ω–∏—è —à–∞—Ä–æ–≤, —Å–∞–ª—é—Ç—ã, –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ —à–∞—Ä–æ–≤ –≤ –∑–≤–µ–∑–¥–æ—á–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–ù–û–í–û–ï:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤ 00:00 —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞:
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∏ `TrunkGlow` —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –µ—Å—Ç—å
- ‚úÖ **–ù–û–í–û–ï:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ (–ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)

---

## üîç –ß–¢–û –ù–£–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨ –ù–ê –°–ï–†–í–ï–†–ï

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PM2 –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs push-notifications --lines 50

# –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ—Ç, –∑–∞–ø—É—Å—Ç–∏—Ç—å:
cd /root/cosmos-of-hopes
pm2 start scripts/send-push-notifications-server.js --name push-notifications
pm2 save
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è
date

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å NTP
timedatectl status
```

### 3. –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–≤—Ä—É—á–Ω—É—é):
```bash
# –í—ã–∑–≤–∞—Ç—å Edge Function –≤—Ä—É—á–Ω—É—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
curl -X POST \
  -H "Authorization: Bearer –≤–∞—à-cron-secret-key" \
  https://–≤–∞—à-project-ref.supabase.co/functions/v1/send-new-year-notifications
```

---

## üìã –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- [ ] PM2 –ø—Ä–æ—Ü–µ—Å—Å `push-notifications` –∑–∞–ø—É—â–µ–Ω
- [ ] PM2 –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω (`pm2 save`)
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É
- [ ] Edge Function –¥–æ—Å—Ç—É–ø–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–Ω–∏–º–∞—Ü–∏—è:
- [ ] –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ë–ª–∫–∏
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ 00:00
- [ ] –¢–µ—Å—Ç: –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞ 00:00 1 —è–Ω–≤–∞—Ä—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞:
- [ ] –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –≤–∏–¥–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ë–ª–∫–∏
- [ ] –ö–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ —Å 1 —è–Ω–≤–∞—Ä—è
- [ ] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç—Å—è/–≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üéØ –í–†–ï–ú–ï–ù–ù–´–ï –ú–ï–¢–ö–ò

- **22:50** (31 –¥–µ–∫–∞–±—Ä—è) - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç–µ–ª—è–º –∫–æ–º–Ω–∞—Ç
- **23:57** (31 –¥–µ–∫–∞–±—Ä—è) - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º —Å —à–∞—Ä–∞–º–∏ –Ω–∞ —ë–ª–∫–µ
- **00:00** (1 —è–Ω–≤–∞—Ä—è) - –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏
- **00:00+** (1 —è–Ω–≤–∞—Ä—è) - –î–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —ë–ª–∫–∏

