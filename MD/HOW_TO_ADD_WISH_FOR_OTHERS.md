# Инструкция: Добавление поля "Пожелание" в базу данных

## Пошаговая инструкция

### Шаг 1: Откройте Supabase Dashboard
1. Перейдите на https://supabase.com
2. Войдите в свой аккаунт
3. Выберите проект "cosmos-of-hopes" (или как называется ваш проект)

### Шаг 2: Откройте SQL Editor
1. В левом меню найдите раздел **"SQL Editor"** (или "Редактор SQL")
2. Нажмите на него

### Шаг 3: Создайте новый запрос
1. Нажмите кнопку **"New query"** (или "Новый запрос") в верхней части экрана
2. Откроется пустое окно для SQL-кода

### Шаг 4: Скопируйте и вставьте SQL-код
1. Откройте файл `cosmos-of-hopes/supabase/migration_add_wish_for_others.sql` в вашем редакторе
2. Скопируйте весь код из этого файла:
   ```sql
   -- Миграция: Добавление поля wish_for_others в таблицу toys
   -- Выполните этот SQL в Supabase SQL Editor

   -- Добавляем колонку wish_for_others
   ALTER TABLE toys 
   ADD COLUMN IF NOT EXISTS wish_for_others TEXT CHECK (char_length(wish_for_others) <= 200);

   -- Добавляем комментарий к колонке для документации
   COMMENT ON COLUMN toys.wish_for_others IS 'Пожелание для других/всех (необязательное поле, до 200 символов)';
   ```
3. Вставьте скопированный код в окно SQL Editor в Supabase

### Шаг 5: Выполните SQL-запрос
1. Нажмите кнопку **"Run"** (или "Выполнить") в правом нижнем углу окна
2. Или нажмите клавишу **Ctrl+Enter** (Windows) / **Cmd+Enter** (Mac)

### Шаг 6: Проверьте результат
1. Должно появиться сообщение об успешном выполнении (зеленое уведомление)
2. Если появилась ошибка - скопируйте текст ошибки и сообщите мне

### Важно!
- **НЕ нужно** вставлять этот код в существующий файл `schema.sql`
- Это **отдельная миграция** для уже работающей базы данных
- Скрипт использует `IF NOT EXISTS`, поэтому его можно выполнять несколько раз безопасно

### Что делает этот скрипт?
- Добавляет новую колонку `wish_for_others` в таблицу `toys`
- Устанавливает ограничение: максимум 200 символов
- Добавляет комментарий к колонке для документации

После выполнения миграции поле "Пожелание" будет работать в приложении!

