# План интеграции Jitsi для видеокомнат

## Текущее состояние

- ✅ Голосовой чат на WebRTC (только аудио, без видео)
- ❌ Видеокомнаты отсутствуют
- ❌ Интеграция с Jitsi отсутствует

## Задачи для реализации

### 1. Установка Jitsi Meet SDK

```bash
npm install @jitsi/react-sdk
```

### 2. Создание компонента VideoRoom

`components/rooms/VideoRoom.tsx`:
- Интеграция Jitsi Meet SDK
- Создание/подключение к комнате Jitsi
- Управление видео/аудио
- Отображение участников

### 3. Обновление страницы комнаты

`app/room/page.tsx`:
- Добавить выбор: "Голосовой чат" или "Видеокомната"
- Интеграция компонента VideoRoom

### 4. Настройки для Jitsi

- Использовать публичный Jitsi сервер (meet.jit.si) для начала
- Или настроить собственный Jitsi сервер (опционально)

## Структура интеграции

### Базовый компонент VideoRoom

```typescript
interface VideoRoomProps {
  roomId: string;
  currentUserId: string;
  displayName?: string;
}
```

### Функционал

1. **Создание/присоединение к комнате**
   - Генерация уникального имени комнаты на основе roomId
   - Автоматическое подключение при монтировании

2. **Управление медиа**
   - Включение/выключение видео
   - Включение/выключение микрофона
   - Отображение локального и удаленных потоков

3. **UI элементы**
   - Кнопки управления (микрофон, камера, выход)
   - Сетка участников
   - Индикаторы состояния

## Альтернатива: Daily.co

Если нужна альтернатива Jitsi:
- Daily.co - платный, но более надежный
- Требует API ключ
- Проще в интеграции

## Приоритет

1. **Высокий**: Базовая интеграция Jitsi (публичный сервер)
2. **Средний**: Настройка собственного Jitsi сервера
3. **Низкий**: Интеграция Daily.co как альтернатива

