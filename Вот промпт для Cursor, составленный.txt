Вот промпт для Cursor, составленный как структурированное техническое задание.

---
Теперь должно работать так:
После лайка на чужой шар, userHasLiked становится true
useEffect отслеживает это изменение и перезагружает шары
Свой шар появляется в списке и подсвечивается золотым свечением 
### **Промпт для Cursor: Стратегия видеоинфраструктуры для новогоднего приложения**

**Контекст проекта:**
Мы разрабатываем вирусное новогоднее веб-приложение (стек: React, Three.js), где пользователи из разных стран смогут совместно встречать Новый год в видеокомнатах. Изначально рассматривался хостинг на Vercel, но возникла критическая проблема.

**Часть 1: Анализ отказа от Vercel (подтверди этот анализ)**
Пожалуйста, проанализируй и подтверди следующее техническое обоснование для отказа от хостинга фронтенда и бэкенда на Vercel:
1.  **Проблема блокировок в РФ:** Начиная примерно с осени 2024 года, Роскомнадзор массово блокирует IP-адреса Vercel. Сайты на кастомных доменах, привязанных к Vercel, становятся недоступными для значительной части пользователей в России. Это подтверждается множеством сообщений разработчиков в тематических сообществах. Блокировки носят нецелевой характер и затрагивают целые диапазоны IP.
2.  **Непредсказуемость:** Доступность сайта может хаотично меняться в зависимости от интернет-провайдера пользователя в России (работает с одного, не работает с другого). Это делает сервис ненадежным для нашей целевой аудитории.
3.  **Вывод:** Использование Vercel как основного хостинга **ставит под угрозу доступность приложения для русскоязычных пользователей**, что для нас неприемлемо. Необходим альтернативный хостинг (российский облачный провайдер, например, Timeweb, или глобальный, но с проверенной доступностью из РФ, например, через CDN).

**Часть 2: Стратегия для видеокомнат (Jitsi + Daily.co)**
Для реализации видеокомнат мы принимаем стратегию **параллельной реализации двух опций**. Это обеспечит максимальную отказоустойчивость и независимость от геополитических рисков.

**Обоснование стратегии "двух двигателей":**
1.  **Daily.co (облачный SaaS):** Позволит максимально быстро запустить прототип. Использование их Prebuilt-интерфейса (виджета) сократит разработку до интеграции за несколько часов. Их глобальная инфраструкция обеспечит хорошее качество связи для пользователей за пределами СНГ.
2.  **Jitsi Meet (саморазмещение):** Выступает как **страховочный и основной вариант для аудитории в России**. Jitsi — открытое ПО, его можно развернуть на российском VPS (например, на том же Timeweb). Это даст нам полный контроль над трафиком и гарантирует доступность, так как Jitsi не является заблокированным сервисом в РФ (что подтверждается, например, его активным использованием по данным опроса "Медузы" за декабрь 2025). Это наш стратегический запас на случай блокировок Daily.co или роста тарифов.
3.  **Цель:** Создать в приложении переключатель или логику, позволяющую в зависимости от региона пользователя, его выбора или в случае сбоя перенаправлять его в видеокомнату, созданную на одной из этих двух инфраструктур.

**Часть 3: Конкретные задачи для архитектуры (без написания кода сейчас)**
На основе этой стратегии, сформулируй высокоуровневый план архитектуры:
1.  **Для Daily.co:** Какая минимальная схема интеграции их Prebuilt-виджета? Как динамически создавать уникальные комнаты (room names) для каждой группы пользователей в нашем приложении?
2.  **Для Jitsi:** Какая базовая схема развертывания? Достаточно ли для начала использовать их готовый Docker-образ `jitsi-meet` на одном VPS? Как будет выглядеть API или механизм создания комнат в нашей self-hosted версии?
3.  **Для переключения:** Предложи простейшую логику переключения между провайдерами на фронтенде. Например, приоритетная попытка подключиться через Daily.co, и при ошибке/таймауте — автоматический fallback на URL нашего сервера Jitsi. Или выбор через настройки пользователя.
4.  **Тестирование:** Как нам организовать тестирование доступности видеокомнаты из разных регионов (Россия, ЕС, США) на этапе разработки?

**Итоговая цель промпта:** Получить от тебя структурированное подтверждение анализа по Vercel и высокоуровневый архитектурный план для реализации дублирующей видеоинфраструктуры, который станет основой для последующих конкретных задач кодирования.
ИЛИ ПРЕДЛОЖИТЬ ИНОЙ ВАРИАНТ!!! - САМЫЙ ЛУЧШИЙ, практичный, реальный.